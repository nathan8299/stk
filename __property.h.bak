//---------------------------------------------------------------------------
#ifndef tsoft__property_H
#define tsoft__property_H
//---------------------------------------------------------------------------
#include "./tsoft_MAIN.h"
#include <iostream>
//---------------------------------------------------------------------------
namespace ts {
#ifndef __BORLANDC__
//---------------------------------------------------------------------------
template <typename T> class __property {
				T value;
		public:
				T & operator = (const T &i)
				{
#ifdef __DEBUG_PROPERTY__
__DEBUG_FUNC_CALLED__
#endif
						::std::cout << i << ::std::endl;
						return value = i;
				}
				// This template class member function template serves the purpose to make
				// typing more strict. Assignment to this is only possible with exact identical
				// types.
				template <typename T2> T2 & operator = (const T2 &i)
				{
#ifdef __DEBUG_PROPERTY__
__DEBUG_FUNC_CALLED__
#endif
						::std::cout << "T2: " << i << ::std::endl;
						T2 &guard = value;
						throw guard; // Never reached.
				}
				operator T const & () const
				{
#ifdef __DEBUG_PROPERTY__
__DEBUG_FUNC_CALLED__
#endif
						return value;
				}
};
#endif
//---------------------------------------------------------------------------
}
//---------------------------------------------------------------------------
#endif
